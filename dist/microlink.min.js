"use strict";function n(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=n(e),r=require("styled-components"),i=n(r),o=require("@microlink/mql");function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c(){return(c=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function f(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function d(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var t=[],r=!0,i=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){i=!0,o=n}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t}(n,e)||m(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(n){return function(n){if(Array.isArray(n))return v(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||m(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(n,e){if(n){if("string"==typeof n)return v(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(n,e):void 0}}function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function g(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function b(n){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function y(n,e){return(y=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}var w=function(n){function t(n){var e;return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}(this,b(t).call(this,n))).state={noClamp:!1,text:"."},e.element=null,e.original=n.text,e.lineHeight=0,e.start=0,e.middle=0,e.end=0,e.debounced=e.debounce(e.action),e}var r;return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&y(n,e)}(t,e.Component),(r=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.debounced),this.props.text&&(this.lineHeight=this.element.clientHeight+1,this.clampLines())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debounced)}},{key:"debounce",value:function(n){var e,t=this,r=function(){e=null,n.apply(t)};return function(){var i=!e;clearTimeout(e),e=setTimeout(r,t.props.debounce),i&&n.apply(t)}}},{key:"action",value:function(){this.original&&this.setState({noClamp:!1},this.clampLines)}},{key:"clampLines",value:function(){var n=this,e=this.props,r=e.ellipsis,i=e.lines,o=this.lineHeight*i+1,a=r===t.defaultProps.ellipsis?5:1.2*r.length;for(this.start=0,this.middle=0,this.end=this.original.length;this.start<=this.end;){if(this.middle=Math.floor((this.start+this.end)/2),this.element.innerText=this.original.slice(0,this.middle),this.middle===this.original.length)return void this.setState({text:this.original,noClamp:!0});this.moveMarkers(o)}var c=this.original.slice(0,Math.max(this.middle-a,0)).trim()+r;this.setState({text:c},(function(){n.element.innerText=n.state.text}))}},{key:"moveMarkers",value:function(n){this.element.clientHeight<=n?this.start=this.middle+1:this.end=this.middle-1}},{key:"render",value:function(){var n=this,t=this.state.text,r=this.props,i=r.accessibility,o=r.is,a=r.text,c=(r.lines,r.debounce,r.ellipsis,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?h(Object(t),!0).forEach((function(e){g(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({ref:function(e){return n.element=e}},i?{title:a}:{},{},function(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}(r,["accessibility","is","text","lines","debounce","ellipsis"])));return a?e.createElement(o,c,t):null}}])&&function(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}(t.prototype,r),t}();w.defaultProps={accessibility:!0,is:"div",lines:3,ellipsis:"…",debounce:300};var x=/^https?:\/\/(localhost|127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|::1)/;function k(){var n=f(["\n    @media (max-width: 48em) {\n      ",";\n    }\n  "]);return k=function(){return n},n}var z="undefined"==typeof window,S=function(n){return"function"==typeof n},E=function(n){return"object"==typeof n},C=function(n){return null==n},O=function(n){return E(n)?n.url:n},M=function(){return r.css(k(),r.css.apply(void 0,arguments))},P=function(n){var e=n.apiKey,t=n.contrast,r=void 0!==t&&t,i=n.data,a=n.endpoint,c=n.force,u=n.headers,l=n.media,s=n.prerender,f=n.proxy,d=n.ttl,p=n.url;return o.getApiUrl(p,{apiKey:e,audio:l.includes("audio"),data:i,endpoint:a,force:c,headers:u,iframe:l.includes("iframe"),palette:r,prerender:s,proxy:f,screenshot:l.includes("screenshot"),ttl:d,video:l.includes("video")})},j=function(n){return"large"===n},_=function(n){return"small"===n},D=function(n){return function(n){return x.test(n)}(n)?n:"https://images.weserv.nl/?url=".concat(encodeURIComponent(n),"&l=9&af&il&n=-1")},R=!z&&"IntersectionObserver"in window,N=function(n){var e=parseInt(n,10);return[Math.floor(e/3600),Math.floor(e/60)%60,e%60].filter((function(n,e){return n>0||e>0})).map((function(n){return n>=10?n:"0".concat(n)})).join(":")},F=function(n,e,t){switch(!0){case n<=e:return e;case n>=t:return t;default:return n}},T="".concat("microlink_card","__content"),I="".concat("microlink_card","__media"),L="".concat(I,"__controls"),A={main:"microlink_card",content:T,title:"".concat(T,"_title"),description:"".concat(T,"_description"),url:"".concat(T,"_url"),mediaWrapper:"".concat(I,"_wrapper"),media:I,image:"".concat(I,"_image"),videoWrapper:"".concat(I,"_video_wrapper"),video:"".concat(I,"_video"),audioWrapper:"".concat(I,"_audio_wrapper"),audio:"".concat(I,"_audio"),mediaControls:L,playbackControl:"".concat(L,"_playback"),volumeControl:"".concat(L,"_volume"),rwControl:"".concat(L,"_rewind"),ffwControl:"".concat(L,"_fast_forward"),rateControl:"".concat(L,"_rate"),progressBar:"".concat(L,"_progress_bar"),progressTime:"".concat(L,"_progress_time"),spinner:"".concat(L,"_spinner"),iframe:"".concat("microlink_card","__iframe")};function V(){var n=f(["\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n    "]);return V=function(){return n},n}function U(){var n=f(["\n  &&& {\n    text-align: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    color: inherit;\n    margin: 0;\n\n    ","\n  }\n"]);return U=function(){return n},n}var H=i((function(n){var e=n.children,r=n.className,i=n.lines;return C(e)?null:t.createElement(w,{className:r,lines:i,text:e,is:"p"})}))(U(),(function(n){return!n.useNanoClamp&&r.css(V())})),W=function(n){var e=n.useNanoClamp,r=void 0===e||e,i=n.children,o=s(n,["useNanoClamp","children"]),a=r?o:l(l({},o),{},{as:"p",title:i});return t.createElement(H,c({useNanoClamp:r},a),i)},B={short:"100ms",medium:"150ms",long:"300ms"},X={short:"cubic-bezier(.25,.8,.25,1)",medium:"cubic-bezier(.25,.8,.25,1)",long:"cubic-bezier(.4, 0, .2, 1)"},q=function(n,e){var t="".concat(B[e]," ").concat(X[e]);return n.map((function(n){return"".concat(n," ").concat(t)})).join(", ")},K=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return q(e,"short")},J=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return q(e,"medium")},$=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return q(e,"long")},G="InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif",Q="'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",Y={},Z=t.createContext(Y),nn=function(n){var r=n.autoPlay,i=n.children,o=n.controls,a=n.loop,c=n.mediaRef,u=n.muted,f=n.playsInline,p=n.size,m=s(n,["autoPlay","children","controls","loop","mediaRef","muted","playsInline","size"]),v=d(e.useState(Y),2),g=v[0],h=v[1],b=e.useCallback((function(n){return h((function(e){return l(l({},e),n)}))}),[]),y=e.useMemo((function(){return{autoPlay:r,controls:o,loop:a,mediaRef:c,muted:u,playsInline:f,size:p}}),[r,o,a,c,u,f,p]),w=e.useMemo((function(){return{props:y,state:g,updateState:b}}),[y,g,b]);return t.createElement(Z.Provider,{value:w},i(m))};function en(){var n=f(["\n  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center\n    center;\n  display: block;\n  margin-left: 15px;\n  transition: ",";\n  will-change: filter, opacity;\n  &:not(:hover) {\n    filter: grayscale(100%);\n    opacity: 0.75;\n  }\n\n  min-width: ",";\n  width: ",";\n  background-size: ",";\n  height: ",";\n"]);return en=function(){return n},n}function tn(){var n=f(["\n  opacity: 0.75;\n  transition: ",";\n  will-change: opacity;\n\n  .",":hover & {\n    opacity: 1;\n  }\n"]);return tn=function(){return n},n}function rn(){var n=f(["\n    font-size: ",";\n    ","\n  "]);return rn=function(){return n},n}function on(){var n=f(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n  margin: 0;\n  flex-grow: 0;\n  font-weight: normal;\n  ",";\n"]);return on=function(){return n},n}function an(){var n=f(["\n  text-align: left;\n  font-size: 14px;\n  flex-grow: 2;\n  margin: auto 0;\n  line-height: 18px;\n  font-weight: normal;\n"]);return an=function(){return n},n}function cn(){var n=f(["\n        min-width: 0;\n        padding-right: 14px;\n      "]);return cn=function(){return n},n}function un(){var n=f(["\n    flex-grow: ",";\n    font-size: ",";\n\n    ","\n  "]);return un=function(){return n},n}function ln(){var n=f(["\n  text-align: left;\n  font-weight: bold;\n  margin: 0;\n  width: 100%;\n  ","\n"]);return ln=function(){return n},n}function sn(){var n=f(["\n    flex: ",";\n    justify-content: ",";\n    flex-direction: ",";\n    align-items: ",";\n  "]);return sn=function(){return n},n}function fn(){var n=f(["\n  display: flex;\n  padding: 10px 15px;\n  min-width: 0;\n  box-sizing: border-box;\n  ",";\n"]);return fn=function(){return n},n}function dn(){var n=f(["\n    > p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  "]);return dn=function(){return n},n}function pn(){var n=f(["\n  ",";\n"]);return pn=function(){return n},n}var mn=/^www\./,vn=(r.css(pn(),M(dn())),i("div").attrs({className:A.content})(fn(),(function(n){var e=n.cardSize;return r.css(sn(),j(e)?"0 0 125px":1,_(e)?"space-between":"space-around",_(e)?"row":"column",_(e)?"center":"stretch")}))),gn=i("header").attrs({className:A.title})(ln(),(function(n){var e=n.cardSize;return r.css(un(),_(e)?.8:1.2,_(e)?"15px":"16px",_(e)&&r.css(cn()))})),hn=i("div").attrs({className:A.description})(an()),bn=i("footer").attrs({className:A.url})(on(),(function(n){var e=n.cardSize;return r.css(rn(),_(e)?"10px":"12px",!_(e)&&"width: 100%;")})),yn=i(W)(tn(),J("opacity"),A.main),wn=i("span").attrs({title:"microlink.io"})(en(),J("filter","opacity"),"16px","16px","16px","12px"),xn=function(){var n=e.useContext(Z),r=n.state,i=r.description,o=r.title,a=r.url,c=n.props.size,u=_(c),l=e.useMemo((function(){return C(n=a)?"":new URL(n).hostname.replace(mn,"");var n}),[a]),s=e.useCallback((function(n){n.preventDefault(),window.open("https://www.microlink.io","_blank")}));return t.createElement(vn,{cardSize:c},t.createElement(gn,{cardSize:c},t.createElement(W,{useNanoClamp:!1},o)),!u&&t.createElement(hn,{cardSize:c},t.createElement(W,{lines:1e4},i)),t.createElement(bn,{cardSize:c},t.createElement(yn,{useNanoClamp:!1},l),t.createElement(wn,{onClick:s})))};function kn(){var n=f(["\n  animation: "," 1.25s linear infinite;\n"]);return kn=function(){return n},n}function zn(){var n=f(["\n  animation: "," .75s linear infinite;\n"]);return zn=function(){return n},n}function Sn(){var n=f(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #dce3e8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]);return Sn=function(){return n},n}function En(){var n=f(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #cdd4d8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]);return En=function(){return n},n}var Cn=r.keyframes(En()),On=r.keyframes(Sn()),Mn=r.css(zn(),Cn),Pn=r.css(kn(),On);function jn(){var n=f(["\n      opacity: ",";\n      visibility: ",";\n    "]);return jn=function(){return n},n}function _n(){var n=f(["\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background: #e1e8ed;\n    z-index: 1;\n    transition: ",";\n    will-change: opacity;\n\n    ",";\n  }\n"]);return _n=function(){return n},n}function Dn(){var n=f(["\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  z-index: -1;\n"]);return Dn=function(){return n},n}var Rn=i("img")(Dn()),Nn=r.css(_n(),J("opacity","visibility"),(function(n){var e=n.isLoading;return r.css(jn(),e?1:0,e?"visible":"hidden")}));function Fn(){var n=f(["\n  background: transparent no-repeat center center / cover;\n  display: block;\n  overflow: hidden;\n  height: auto;\n  position: relative;\n\n  &::before {\n    content: '';\n    padding-bottom: 100%;\n    display: block;\n  }\n\n  ",";\n\n  ",";\n"]);return Fn=function(){return n},n}function Tn(){var n=f(["\n    flex: 1;\n\n    &::before {\n      padding-bottom: 0;\n    }\n  "]);return Tn=function(){return n},n}function In(){var n=f(["\n      flex: 0 0 92px;\n    "]);return In=function(){return n},n}function Ln(){var n=f(["\n    flex: 0 0 125px;\n\n    ","\n  "]);return Ln=function(){return n},n}function An(){var n=f(["\n    flex: 0 0 48px;\n  "]);return An=function(){return n},n}var Vn={small:r.css(An()),normal:r.css(Ln(),M(In())),large:r.css(Tn())},Un=i("div")(Fn(),(function(n){var e=n.cardSize;return Vn[e]}),Nn),Hn=function(n){var r=e.useContext(Z).props.size;return t.createElement(Un,c({cardSize:r},n))};function Wn(){var n=f(["\n  background-image: ",";\n"]);return Wn=function(){return n},n}var Bn=i(Hn).attrs({className:"".concat(A.media," ").concat(A.image)})(Wn(),(function(n){var e=n.url;return e?"url('".concat(D(e),"')"):""})),Xn=function(n){var r=e.useContext(Z).state.imageUrl;return t.createElement(Bn,c({url:r},n))};function qn(){var n=f(["\n  opacity: 0.8;\n  height: 12px;\n  width: 30%;\n  display: block;\n  "," animation-delay: .25s;\n\n  ",";\n"]);return qn=function(){return n},n}function Kn(){var n=f(["\n  opacity: 0.8;\n  height: 14px;\n  width: 95%;\n  display: block;\n  position: relative;\n  ",";\n  animation-delay: 0.125s;\n"]);return Kn=function(){return n},n}function Jn(){var n=f(["\n  opacity: 0.8;\n  height: 16px;\n  width: ",";\n  display: block;\n  background: #e1e8ed;\n  margin: ",";\n  ",";\n\n  ",";\n"]);return Jn=function(){return n},n}function $n(){var n=f(["\n  ",";\n"]);return $n=function(){return n},n}var Gn=i(Xn)($n(),Pn),Qn=i("span")(Jn(),(function(n){var e=n.cardSize;return _(e)?"75%":"60%"}),(function(n){var e=n.cardSize;return _(e)?"0 20px 0 0":"2px 0 8px"}),Mn,(function(n){var e=n.cardSize;return!j(e)&&"\n    height: 15px;\n  "})),Yn=i("span")(Kn(),Mn),Zn=i("span")(qn(),Mn,(function(n){var e=n.cardSize;return!j(e)&&"\n    height: 10px;\n  "})),ne=t.createElement(Zn,null),ee=function(){var n=e.useContext(Z).props.size,r=_(n);return t.createElement(t.Fragment,null,t.createElement(Gn,{cardSize:n}),t.createElement(vn,{cardSize:n},t.createElement(Qn,{cardSize:n}),r?null:t.createElement(t.Fragment,null,t.createElement(Yn,{cardSize:n}),t.createElement(Yn,{cardSize:n,style:{marginBottom:"12px"}})),ne))};function te(){var n=f(["\n  backface-visibility: hidden;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\n  transition: ",";\n  will-change: transform;\n\n  > svg {\n    display: block;\n  }\n\n  &:active:not(:focus) {\n    transform: scale(0.9);\n  }\n"]);return te=function(){return n},n}var re=i("div")(te(),K("transform"));function ie(){var n=f(["\n  margin: ",";\n  font-family: ",";\n  font-size: 12px;\n  padding: 0 16px;\n  color: #fff;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n"]);return ie=function(){return n},n}function oe(){var n=f(["\n    font-size: 8px;\n    margin-left: 8px;\n    min-width: 23px;\n  "]);return oe=function(){return n},n}function ae(){var n=f(["\n  font-size: ","px;\n  min-width: ","px;\n  line-height: 1;\n  font-weight: bold;\n  border: 1.5px solid #fff;\n  border-radius: 9999px;\n  padding: 1px 5px;\n  text-align: center;\n  color: #fff;\n  margin-left: 10px;\n\n  ","\n"]);return ae=function(){return n},n}function ce(){var n=f(["\n      width: 12px;\n      height: 12px;\n    "]);return ce=function(){return n},n}function ue(){var n=f(["\n  "," {\n    width: ","px;\n    height: ","px;\n\n    ","\n  }\n"]);return ue=function(){return n},n}function le(){var n=f(["\n  stroke: #fff;\n"]);return le=function(){return n},n}function se(){var n=f(["\n  z-index: 2;\n  position: absolute;\n  bottom: ","px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: ",";\n  will-change: opacity;\n"]);return se=function(){return n},n}var fe=t.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}),de=function(n){return t.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},n),fe)},pe=t.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}),me=function(n){return t.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},n),pe)},ve=i("div")(se(),(function(n){var e=n.cardSize;return j(e)?18:14}),J("opacity")),ge=i("svg")(le()),he=i(re).attrs({className:A.volumeControl})(ue(),ge,(function(n){var e=n.cardSize;return j(e)?16:14}),(function(n){var e=n.cardSize;return j(e)?16:14}),(function(n){var e=n.cardSize;return!j(e)&&M(ce())})),be=i(re).attrs({className:A.rateControl})(ae(),(function(n){var e=n.cardSize;return j(e)?12:10}),(function(n){var e=n.cardSize;return j(e)?33:28}),(function(n){var e=n.cardSize;return!j(e)&&M(oe())})),ye=i("span").attrs({className:A.progressTime})(ie(),(function(n){return n.right?"0 0 0 auto":"0 auto 0 0"}),Q),we=function(n){var r=n.cardSize,i=n.currentTime,o=n.endTime,a=n.isMuted,c=n.onMuteClick,u=n.onPlaybackRateClick,l=n.playbackRate,s=e.useMemo((function(){return a?de:me}),[a]),f=e.useMemo((function(){return j(r)}),[r]);return t.createElement(ve,{cardSize:r},f&&t.createElement(ye,null,i),t.createElement(he,{title:a?"Unmute":"Mute",cardSize:r,onClick:c},t.createElement(ge,{as:s})),t.createElement(be,{title:"Playback Rate",cardSize:r,onClick:u},t.createElement("span",null,l,"x")),f&&t.createElement(ye,{right:!0},o))};function xe(){var n=f(["\n        width: calc("," * 1.2);\n        height: calc("," * 1.2);\n      "]);return xe=function(){return n},n}function ke(){var n=f(["\n      width: ",";\n      height: ",";\n      padding: ",";\n\n      ","\n    "]);return ke=function(){return n},n}function ze(){var n=f(["\n  "," {\n    ","\n  }\n"]);return ze=function(){return n},n}function Se(){var n=f(["\n  stroke: #fff;\n"]);return Se=function(){return n},n}var Ee=t.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z",transform:"translate(-8 -6)"}),Ce=function(n){return t.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},n),Ee)},Oe=t.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z",transform:"translate(-6 -4)"}),Me=function(n){return t.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 24"},n),Oe)},Pe={large:"50px",normal:"35px",small:"20px"},je=i("svg")(Se()),_e=i(re).attrs({className:A.playbackControl})(ze(),je,(function(n){var e=n.cardSize;return r.css(ke(),Pe[e],Pe[e],j(e)?0:"8px",!j(e)&&!_(e)&&M(xe(),Pe.small,Pe.small))})),De=function(n){var r=n.isPlaying,i=s(n,["isPlaying"]),o=e.useMemo((function(){return r?Ce:Me}),[r]);return t.createElement(_e,c({title:r?"Pause":"Play"},i),t.createElement(je,{as:o}))};function Re(){var n=f(["\n      height: ","px;\n      width: ","px;\n    "]);return Re=function(){return n},n}function Ne(){var n=f(["\n  position: absolute;\n  top: 50%;\n  background: #ffffff;\n  border-radius: 50%;\n  transform-origin: center center;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  transition: ",";\n  will-change: left, transform, opacity, visibility;\n  backface-visibility: hidden;\n  z-index: 3;\n\n  ","\n"]);return Ne=function(){return n},n}var Fe={normal:.8,small:.9},Te=i("div").attrs((function(n){var e=n.isVisible;return{style:{left:n.positionX,transform:"scale(".concat(e?1:.5,") translate(-50%, -50%)"),opacity:e?1:0,visibility:e?"visible":"hidden"}}}))(Ne(),K("transform","opacity","visibility"),(function(n){var e,t=n.cardSize,i=(e=t,Math.floor(12*(Fe[e]||1)));return r.css(Re(),i,i)}));function Ie(){var n=f(["\n  position: absolute;\n  background: rgba(24, 25, 25, 0.75);\n  color: #fff;\n  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);\n  padding: 2px 3px;\n  border-radius: 4px;\n  font-family: ",";\n  font-size: ","px;\n  line-height: 1;\n  transition: ",", ",";\n  will-change: top, left, visibility, opacity, transform;\n  backface-visibility: hidden;\n"]);return Ie=function(){return n},n}var Le={normal:.8},Ae=i("span").attrs((function(n){var e=n.position,t=n.isDragging,r=n.visible;return{style:{left:"".concat(e,"px"),top:r?"-4px":"0px",visibility:r?"visible":"hidden",opacity:r?1:0,transform:"translate(-50%, ".concat(t?-110:-100,"%)")}}}))(Ie(),Q,(function(n){var e=n.cardSize;return 11*(Le[e]||1)}),J("opacity","visibility","transform"),$("top")),Ve=e.forwardRef((function(n,e){var r=n.isDragging,i=n.isVisible,o=n.label,a=n.positionX,u=n.size,l=s(n,["isDragging","isVisible","label","positionX","size"]);return t.createElement(t.Fragment,null,t.createElement(Ae,c({visible:i,position:a,cardSize:u,ref:e,isDragging:r},l),o))}));function Ue(){var n=f(["\n  background: rgba(255, 255, 255, 0.35);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n"]);return Ue=function(){return n},n}function He(){var n=f(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  transform-origin: left center;\n  transition: ",";\n  will-change: left, transform, opacity, visible;\n"]);return He=function(){return n},n}function We(){var n=f(["\n  position: absolute;\n  left: 0;\n  top: -50%;\n  height: 200%;\n  width: 100%;\n  background: #ffffff;\n  transform-origin: left center;\n  will-change: transform;\n"]);return We=function(){return n},n}function Be(){var n=f(["\n  border-radius: inherit;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n"]);return Be=function(){return n},n}function Xe(){var n=f(["\n      height: ","px;\n\n      ",":hover & {\n        height: ","px;\n      }\n    "]);return Xe=function(){return n},n}function qe(){var n=f(["\n  background: transparent;\n  border-radius: 9999px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  background: rgba(255, 255, 255, 0.15);\n  transition: ",";\n  will-change: height;\n  pointer-events: none;\n  position: relative;\n\n  ","\n"]);return qe=function(){return n},n}function Ke(){var n=f(["\n  position: relative;\n  padding: ","px ","px ","px;\n  z-index: 2;\n  backface-visibility: hidden;\n"]);return Ke=function(){return n},n}var Je={normal:.7,small:.6},$e={small:.9,large:1.4},Ge=function(n){return Math.floor(6*($e[n]||1))},Qe=i("div").attrs((function(){return{className:A.progressBar}}))(Ke(),6,3,3),Ye=i("div").attrs((function(n){var e=n.cardSize;if(n.isDragging){var t=Ge(e);return{style:{height:"".concat(t,"px")}}}return{}}))(qe(),K("height"),(function(n){var e,t=n.cardSize,i=(e=t,Math.floor(6*(Je[e]||1))),o=Ge(t);return r.css(Xe(),i,Qe,o)})),Ze=i("div")(Be()),nt=i("div").attrs((function(n){var e=n.maskScale;return{style:{transform:"scaleX(".concat(e,")")}}}))(We()),et=i("div").attrs((function(n){var e=n.cursorRatio,t=n.isHovering;return{style:{left:n.progressPercent,transform:"scaleX(".concat(e,")"),opacity:t?1:0,visibility:t?"visible":"hidden"}}}))(He(),K("opacity","visibility")),tt=i("div").attrs((function(n){var e=n.start,t=n.end;return{style:{left:"".concat(e,"px"),right:"".concat(t,"px")}}}))(Ue()),rt=function(n){var r=n.bufferedMedia,i=n.cursorX,o=n.duration,a=n.hoveredTime,u=n.isDragging,l=n.isHovering,f=n.onClick,d=n.onMouseDown,p=n.onMouseOver,m=n.progress,v=(n.showTooltip,e.useContext(Z).props.size),g=e.useRef(),h=e.useRef(),b=e.useMemo((function(){return _(v)}),[v]),y=e.useCallback((function(){return g.current?g.current.getBoundingClientRect().width-6:0}),[]),w=e.useMemo((function(){return F(m/o,0,1)}),[o,m]),x=e.useMemo((function(){return"".concat(F(100*w,1,99),"%")}),[w]),k=e.useMemo((function(){if(g.current){var n=y(),e=w*n,t=i-e;if(t>0)return F((t/(n-e)).toFixed(3),0,.99)}return 0}),[i,y,w]),z=e.useMemo((function(){var n=y();return r.map((function(e,t){return{key:t,start:e.start*n,end:n-e.end*n}}))}),[r,y]),S=e.useMemo((function(){return N(a)}),[a]),E=e.useMemo((function(){if(g.current&&h.current){var n=y(),e=h.current.getBoundingClientRect().width/2;return F(i,e,n-e)}return 0}),[i,y]),C=e.useMemo((function(){return{onClick:f,onMouseDown:d,onMouseOver:p}}),[f,d,p]),O=e.useMemo((function(){return u||l}),[u,l]);return t.createElement(Qe,c({cardSize:v,ref:g},C),t.createElement(Ye,{cardSize:v,isDragging:u},t.createElement(Ze,null,t.createElement(et,{cursorRatio:k,isHovering:l,progressPercent:x}),z.map((function(n){var e=n.key,r=s(n,["key"]);return t.createElement(tt,c({key:e},r))})),t.createElement(nt,{maskScale:w})),t.createElement(Te,{cardSize:v,isVisible:O,positionX:x}),!b&&t.createElement(Ve,{isDragging:u,isVisible:O,label:S,positionX:E,ref:h,size:v})))};function it(){var n=f(["\n  margin: 0 ",";\n"]);return it=function(){return n},n}function ot(){var n=f(["\n    width: 0;\n    height: 0;\n  "]);return ot=function(){return n},n}function at(){var n=f(["\n  stroke: #fff;\n  width: ","px;\n  height: ","px;\n\n  ","\n"]);return at=function(){return n},n}var ct=t.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z",transform:"translate(-4 -1)"}),ut=function(n){n.cardSize;var e=s(n,["cardSize"]);return t.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},e),ct)},lt=t.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z",transform:"translate(-4 -1)"}),st=function(n){n.cardSize;var e=s(n,["cardSize"]);return t.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},e),lt)},ft=i("svg")(at(),(function(n){var e=n.cardSize;return j(e)?30:24}),(function(n){var e=n.cardSize;return j(e)?30:24}),(function(n){var e=n.cardSize;return!j(e)&&M(ot())})),dt=i(re)(it(),(function(n){var e=n.cardSize;return j(e)?"28px":"3px"})),pt=function(n){var r=n.type,i=void 0===r?"rewind":r,o=n.cardSize,a=s(n,["type","cardSize"]),u=e.useMemo((function(){return"rewind"===i?ut:st}),[i]);return t.createElement(dt,c({title:"rewind"===i?"Rewind":"Forward",cardSize:o},a),t.createElement(ft,{as:u,cardSize:o}))};function mt(){var n=f(["\n  stroke: #fff;\n  stroke-linecap: round;\n  stroke-width: 7;\n  fill: none;\n  animation: "," 1.5s ease-in-out infinite;\n  will-change: stroke-dasharray, stroke-dashoffset;\n"]);return mt=function(){return n},n}function vt(){var n=f(["\n  width: 100%;\n  animation: "," 2s linear infinite;\n  will-change: transform;\n"]);return vt=function(){return n},n}function gt(){var n=f(["\n    position: absolute;\n    width: ",";\n    right: ",";\n    top: ",";\n    transition: ",";\n    will-change: opacity, visibility;\n    pointer-events: none;\n  "]);return gt=function(){return n},n}function ht(){var n=f(["\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n"]);return ht=function(){return n},n}function bt(){var n=f(["\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return bt=function(){return n},n}var yt={normal:.8,small:.6},wt={normal:.9,small:.8},xt=r.keyframes(bt()),kt=r.keyframes(ht()),zt=i(re).attrs((function(n){var e=n.isVisible;return{style:{opacity:e?1:0,visibility:e?"visible":"hidden"}}}))((function(n){var e=n.cardSize,t="".concat(function(n){return Math.floor(12*(wt[n]||1))}(e),"px"),i="".concat(function(n){return Math.floor(6*(yt[n]||1))}(e),"px");return r.css(gt(),t,i,i,J("opacity","visibility"))})),St=i("svg")(vt(),xt),Et=i("circle")(mt(),kt),Ct=t.createElement(St,{viewBox:"0 0 50 50"},t.createElement(Et,{cx:"25",cy:"25",r:"20"})),Ot=function(n){var e=n.size,r=n.isVisible;return t.createElement(zt,{cardSize:e,className:A.spinner,isVisible:r},Ct)};function Mt(){var n=f(['\n    *[class*="','"]:not(.',") {\n      transition: ",";\n      opacity: 0;\n      visibility: hidden;\n    }\n  "]);return Mt=function(){return n},n}function Pt(){var n=f(["\n  flex: 1;\n\n  ","\n"]);return Pt=function(){return n},n}function jt(){var n=f(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n"]);return jt=function(){return n},n}function _t(){var n=f(["\n      .",":hover & {\n        background: ",";\n      }\n\n      .",":not(:hover) & {\n        opacity: ",";\n        ",";\n      }\n    "]);return _t=function(){return n},n}function Dt(){var n=f(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  transition: ",", ",";\n  will-change: background;\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  ","\n"]);return Dt=function(){return n},n}var Rt=32,Nt=37,Ft=39,Tt=77,It=i("div").attrs({className:A.mediaControls})(Dt(),$("background"),J("opacity"),(function(n){var e=n.hasInteracted,t=n.isDragging,i=n.isPlaying,o="rgba(0, 0, 0, 0.35)",a=e&&!i;return r.css(_t(),A.main,t?"rgba(0, 0, 0, 0.2)":o,A.main,!e||a?1:0,a&&"background: ".concat(o))})),Lt=i("div")(jt()),At=i("div")(Pt(),(function(n){return!n.isVisible&&r.css(Mt(),A.mediaControls,A.progressTime,J("opacity","visibility"))})),Vt=function(n){var r=n.MediaComponent,i=n.mediaProps,o=e.useContext(Z).props,a=o.autoPlay,u=o.controls,l=o.mediaRef,s=o.muted,f=o.loop,m=o.size,v=d(e.useState(0),2),g=v[0],h=v[1],b=d(e.useState(0),2),y=b[0],w=b[1],x=d(e.useState([]),2),k=x[0],z=x[1],E=d(e.useState(0),2),C=E[0],O=E[1],M=d(e.useState(0),2),P=M[0],j=M[1],D=d(e.useState(a),2),R=D[0],T=D[1],I=d(e.useState(s),2),L=I[0],V=I[1],U=d(e.useState(!1),2),H=U[0],W=U[1],B=d(e.useState(!1),2),X=B[0],q=B[1],K=d(e.useState(!1),2),J=K[0],$=K[1],G=d(e.useState(1),2),Q=G[0],Y=G[1],nn=d(e.useState(a),2),en=nn[0],tn=nn[1],rn=d(e.useState(!1),2),on=rn[0],an=rn[1],cn=e.useRef(),un=e.useCallback((function(n){cn.current=n,l&&(S(l)?l(n):l.current=n)}),[l]),ln=e.useMemo((function(){return!_(m)}),[m]),sn=e.useMemo((function(){return{onCanPlay:function(){return W(!1)},onLoadedMetadata:function(n){return h(n.currentTarget.duration)},onPause:function(){return T(!1)},onPlay:function(){return T(!0)},onPlaying:function(){return W(!1)},onProgress:function(n){return z(n.currentTarget.buffered)},onRateChange:function(n){return Y(n.currentTarget.playbackRate)},onTimeUpdate:function(n){return w(n.currentTarget.currentTime)},onVolumeChange:function(n){return V(n.currentTarget.muted)},onWaiting:function(n){return W(!0)}}}),[]),fn=e.useCallback((function(n){if(cn.current){var e=n.currentTarget.getBoundingClientRect(),t=F(Math.floor(n.clientX-e.left),0,e.width);return{cursor:t,time:t/e.width*cn.current.duration}}return{cursor:0,time:0}}),[]),dn=e.useCallback((function(){cn.current&&(cn.current.paused?(en||tn(!0),cn.current.play()):cn.current.pause())}),[en]),pn=e.useCallback((function(n){if(cn.current){var e=F(n,0,cn.current.duration);cn.current.currentTime=e,w(e)}}),[]),mn=e.useCallback((function(n,e){if(n.preventDefault(),n.stopPropagation(),cn.current){var t=cn.current.currentTime;pn("rewind"===e?t-10:t+30)}}),[pn]),vn=e.useCallback((function(n){n.preventDefault(),n.stopPropagation(),cn.current&&(cn.current.muted=!cn.current.muted)}),[]),gn=e.useCallback((function(n){n.preventDefault(),n.stopPropagation(),cn.current&&(cn.current.playbackRate=function(n){switch(n){case 1:return 1.25;case 1.25:return 1.5;case 1.5:return 2;default:return 1}}(cn.current.playbackRate))}),[]),hn=e.useCallback((function(n){n.preventDefault(),n.stopPropagation(),$(!1)}),[]),bn=e.useCallback((function(n){n.preventDefault(),n.stopPropagation(),$(!0);var e=fn(n).time;pn(e)}),[fn,pn]),yn=e.useCallback((function(){return q(!0)}),[]),wn=e.useCallback((function(n){n.preventDefault(),n.stopPropagation(),J?$(!1):dn()}),[J,dn]),xn=e.useCallback((function(n){if((J||X)&&cn.current){n.preventDefault();var e=fn(n),t=e.cursor,r=e.time;j(r),O(t),J&&(cn.current.paused||(cn.current.pause(),an(!0)),pn(r))}}),[fn,J,X,pn]),kn=e.useCallback((function(n){J&&0===n.buttons&&$(!1)}),[J]),zn=e.useCallback((function(n){if(!J){var e=n.keyCode;if([Rt,Nt,Ft,Tt].includes(e)&&cn.current)switch(n.preventDefault(),e){case Rt:dn();break;case Nt:pn(cn.current.currentTime-5);break;case Ft:pn(cn.current.currentTime+5);break;case Tt:cn.current.muted=!cn.current.muted}}}),[g,J,pn,dn]),Sn=e.useMemo((function(){return{onClick:wn,onKeyDown:zn,onMouseMove:xn,onMouseOut:function(){return q(!1)},onMouseOver:kn}}),[wn,zn,xn,kn]),En=e.useMemo((function(){return en?{title:""}:{}}),[en]),Cn=e.useMemo((function(){return k&&k.length&&cn.current?p(Array(k.length).keys()).map((function(n){return{start:k.start(n)/cn.current.duration,end:k.end(n)/cn.current.duration}})):[]}),[k]),On=e.useMemo((function(){return N(y||0)}),[y]),Mn=e.useMemo((function(){return N(g||0)}),[g]),Pn=e.useMemo((function(){return{cardSize:m,currentTime:On,endTime:Mn,isMuted:L,onMuteClick:vn,onPlaybackRateClick:gn,playbackRate:Q}}),[On,Mn,L,vn,gn,Q,m]),jn=e.useMemo((function(){return{bufferedMedia:Cn,cursorX:C,duration:g,hoveredTime:P,isDragging:J,isHovering:X,onClick:hn,onMouseDown:bn,onMouseOver:yn,progress:y,showTooltip:J||X}}),[Cn,C,g,P,J,X,hn,bn,yn,y]);return e.useEffect((function(){!J&&on&&cn.current&&cn.current.paused&&(cn.current.play(),an(!1))}),[on,J]),t.createElement(t.Fragment,null,t.createElement(r,c({},i,sn,{ref:un,autoPlay:a,loop:f,muted:s})),u&&t.createElement(It,c({},En,{tabIndex:0,hasInteracted:en,isDragging:J,isPlaying:R},Sn),t.createElement(Ot,{size:m,isVisible:H}),en?t.createElement(t.Fragment,null,t.createElement(At,{isVisible:!J},t.createElement(Lt,null,ln&&t.createElement(pt,{className:A.rwControl,type:"rewind",cardSize:m,onClick:function(n){return mn(n,"rewind")}}),t.createElement(De,{cardSize:m,isPlaying:R}),ln&&t.createElement(pt,{className:A.ffwControl,type:"fastforward",cardSize:m,onClick:function(n){return mn(n,"fastforward")}})),ln&&t.createElement(we,Pn)),t.createElement(rt,jn)):t.createElement(Lt,null,t.createElement(De,{cardSize:m}))))};function Ut(){var n=f(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  &::media-controls-start-playback-button {\n    display: none;\n    appearance: none;\n  }\n"]);return Ut=function(){return n},n}var Ht=i("video")(Ut()),Wt={video:function(n){var r=e.useContext(Z).state,i=r.imageUrl,o=r.playsInline,a=r.videoUrl,u=e.useMemo((function(){var n={className:"".concat(A.media," ").concat(A.video),src:a,playsInline:o};return i&&(n.poster=D(i)),n}),[i,o,a]);return t.createElement(Hn,c({className:"".concat(A.mediaWrapper," ").concat(A.videoWrapper)},n),t.createElement(Vt,{MediaComponent:Ht,mediaProps:u}))},image:Xn,audio:function(n){var r=e.useContext(Z).state.audioUrl,i=e.useMemo((function(){return{className:"".concat(A.media," ").concat(A.audio),src:r}}),[r]);return t.createElement(Xn,c({className:"".concat(A.mediaWrapper," ").concat(A.audioWrapper)},n),t.createElement(Vt,{MediaComponent:"audio",mediaProps:i}))}},Bt=function(){var n=e.useContext(Z).state,r=n.imageUrl,i=n.isAudio,o=n.isVideo,a=d(e.useState(null!==O(r)),2),c=a[0],u=a[1],l=function(n,e){return n?"audio":e?"video":"image"}(i,o),s=Wt[l];return t.createElement(t.Fragment,null,t.createElement(s,{isLoading:c}),c&&t.createElement(Rn,{src:r,onLoad:function(){return u(!1)}}))};function Xt(){var n=f(["\n  flex-direction: ",";\n"]);return Xt=function(){return n},n}function qt(){var n=f(["\n  transition-property: background, border-color;\n  will-change: background, border-color;\n  &:hover {\n    background-color: var(--microlink-hover-background-color, #f5f8fa);\n    border-color: var(--microlink-hover-border-color, #8899A680);\n  }\n"]);return qt=function(){return n},n}function Kt(){var n=f(["\n    height: calc("," * 7/9);\n  "]);return Kt=function(){return n},n}function Jt(){var n=f(["\n  flex-direction: column;\n  height: ",";\n  ",";\n"]);return Jt=function(){return n},n}function $t(){var n=f(["\n  background-color: ",";\n  border-color: ",";\n  transition-property: filter;\n  will-change: filter;\n\n  &&& {\n    color: ",";\n  }\n\n  &:hover {\n    filter: brightness(90%);\n  }\n"]);return $t=function(){return n},n}var Gt=function(n){var e=n.backgroundColor,t=n.color;return r.css($t(),e,t,t)},Qt=r.css(Jt(),"382px",M(Kt(),"382px")),Yt=r.css(qt()),Zt=function(n){var e=n.cardSize;return r.css(Xt(),j(e)?"column-reverse":"row-reverse")},nr=r.css((function(){return"\n  max-width: var(--microlink-max-width, 500px);\n  background-color: var(--microlink-background-color, #fff);\n  border-width: var(--microlink-border-width, 1px);\n  border-style: var(--microlink-border-style, solid);\n  border-color: var(--microlink-border-color, #e1e8ed);\n  color: var(--microlink-color, #181919);\n  overflow: hidden;\n  font-family: ".concat(G,";\n  display: flex;\n  text-decoration: none;\n  opacity: 1;\n  position: relative;\n  transition-duration: ").concat(B.medium,";\n  transition-timing-function: ").concat(X.medium,";\n\n  &:active,\n  &:hover {\n    outline: 0;\n  }\n")})),er=i("a")(nr,(function(n){var e=n.isLoading,t=n.contrast;return!e&&!t&&Yt}),(function(n){var e=n.cardSize;return j(e)&&Qt}),(function(n){return"rtl"===n.direction&&Zt}),(function(n){var e=n.backgroundColor,t=n.color;return n.contrast&&t&&e&&Gt}),(function(n){var e=n.backgroundColor,t=n.color;return n.contrast&&(!t||!e)&&Yt})),tr=e.forwardRef((function(n,t){var r=n.href,i=n.rel,o=n.target,a=s(n,["href","rel","target"]),c=e.useContext(Z),u=c.state,f=u.backgroundColor,d=u.color,p=u.title,m=c.props.size;return e.createElement(er,l(l(l({},"a"===a.as?{href:r,rel:i,target:o}:void 0),a),{},{backgroundColor:f,cardSize:m,color:d,ref:t,title:p}))}));tr.defaultProps={as:"a",rel:"noopener noreferrer",target:"_blank"};var rr=t.createElement(ee,null),ir=t.createElement(Bt,null),or=t.createElement(xn,null),ar=function(n){var r=n.className,i=n.fetchData,a=n.lazy,u=n.loading,f=n.media,p=n.setData,m=n.url,v=s(n,["className","fetchData","lazy","loading","media","setData","url"]),g=e.useMemo((function(){return[].concat(f)}),[f]),h=e.useContext(Z).updateState,b=d(e.useState(!0),2),y=b[0],w=b[1],x=d(e.useState(null),2),k=x[0],M=x[1],j=d(e.useState(!1),2),_=j[0],D=j[1],N=e.useMemo((function(){return void 0===u}),[u]),F=d(e.useMemo((function(){return P(l(l({},n),{},{media:g}))}),[g,n]),2),T=F[0],I=F[1],L=e.useMemo((function(){return R&&(!0===a||E(a))}),[a]),V=e.useMemo((function(){return E(a)?a:void 0}),[a]),U=function(n,t){var r=d(e.useState(!1),2),i=r[0],o=r[1];return[i,e.useCallback((function(e){if(n){var r=new IntersectionObserver((function(n,e){var t=d(n,1)[0];t.isIntersecting&&(o(!0),e.unobserve(t.target))}),t);null!==e&&r.observe(e)}else o(!0)}))]}(L,V),H=d(U,2),W=H[0],B=H[1],X=e.useMemo((function(){return!L||L&&W}),[L,W]),q=e.useCallback((function(){X&&(w(!0),(i?o.fetchFromApi(T,I):Promise.resolve({})).then((function(n){var e=n.data;return K(e)})).catch((function(n){w(!1),D(!0),console.error("\n┌───────────────┐\n│ Microlink SDK │\n└───────────────┘\n\n".concat(n.description,"\n\n").concat(JSON.stringify(n.data),"\n\nid   ").concat(n.headers["x-request-id"],"\nuri  ").concat(n.url,"\ncode ").concat(n.code," (").concat(n.statusCode,")\n\nmicrolink.io/").concat(n.code.toLowerCase(),"\n"))})))}),[T,X,p,I.headers["x-api-key"],m]),K=e.useCallback((function(n){var e,t,r=S(p)?p(n):l(l({},n),p),i=r.title,o=r.description,a=r.url,c=r.video,u=r.audio,s=r.image,f=r.logo,d=r.iframe,m=s||f||{},v=m,b=!1,y=!1;switch(function(n,e){for(var t,r=0;r<e.length;r++){var i=e[r],o=n[i];if(!C(o)){t=i;break}}return t}(r,g)){case"audio":y=!0,t=O(u);break;case"video":b=!0,e=O(c);break;case"iframe":M(d);break;default:v=function(n,e){return n[e.find((function(e){return!C(n[e])}))]}(r,g)||m}var x=O(v),k=v,z=k.color,E=k.background_color;h({url:a,color:z,title:i,description:o,imageUrl:x,videoUrl:e,audioUrl:t,isVideo:b,isAudio:y,backgroundColor:E}),w(!1)}),[g,p]);e.useEffect(q,[m,p,W]);var J=N?y:u;return _?t.createElement("a",c({href:m},v),m):k?(z||k.scripts.forEach((function(n){if(!document.querySelector('script[src="'.concat(n.src,'"]'))){var e=document.createElement("script");Object.keys(n).forEach((function(t){return e[t]=n[t]})),document.body.appendChild(e)}})),t.createElement("div",c({className:A.iframe,dangerouslySetInnerHTML:{__html:k.html}},v))):t.createElement(tr,c({className:"".concat(A.main," ").concat(r).trim(),href:m,isLoading:J,ref:B},v),J?rr:t.createElement(t.Fragment,null,ir,or))},cr=function(n){return t.createElement(nn,n,(function(n){return t.createElement(ar,n)}))};cr.defaultProps={className:"",apiKey:void 0,autoPlay:!0,controls:!0,direction:"ltr",lazy:!0,loop:!0,media:["image","logo"],fetchData:!0,muted:!0,playsInline:!0,size:"normal"},Object.defineProperty(exports,"fetchFromApi",{enumerable:!0,get:function(){return o.fetchFromApi}}),exports.default=cr,exports.getApiUrl=P,exports.imageProxy=D;
//# sourceMappingURL=microlink.min.js.map
