import n,{Component as e,createElement as t,useState as r,useCallback as i,useMemo as o,useContext as a,forwardRef as c,useRef as u,useEffect as l}from"react";import s,{css as f,keyframes as d}from"styled-components";import{getApiUrl as p,fetchFromApi as m}from"@microlink/mql";export{fetchFromApi}from"@microlink/mql";function v(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g(){return(g=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function h(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function b(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?h(Object(t),!0).forEach((function(e){v(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function y(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function w(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function x(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var t=[],r=!0,i=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){i=!0,o=n}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t}(n,e)||z(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(n){return function(n){if(Array.isArray(n))return E(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||z(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(n,e){if(n){if("string"==typeof n)return E(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(n,e):void 0}}function E(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function S(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function P(n){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function C(n,e){return(C=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}var j=function(n){function r(n){var e;return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=function(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}(this,P(r).call(this,n))).state={noClamp:!1,text:"."},e.element=null,e.original=n.text,e.lineHeight=0,e.start=0,e.middle=0,e.end=0,e.debounced=e.debounce(e.action),e}var i;return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&C(n,e)}(r,e),(i=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.debounced),this.props.text&&(this.lineHeight=this.element.clientHeight+1,this.clampLines())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debounced)}},{key:"debounce",value:function(n){var e,t=this,r=function(){e=null,n.apply(t)};return function(){var i=!e;clearTimeout(e),e=setTimeout(r,t.props.debounce),i&&n.apply(t)}}},{key:"action",value:function(){this.original&&this.setState({noClamp:!1},this.clampLines)}},{key:"clampLines",value:function(){var n=this,e=this.props,t=e.ellipsis,i=e.lines,o=this.lineHeight*i+1,a=t===r.defaultProps.ellipsis?5:1.2*t.length;for(this.start=0,this.middle=0,this.end=this.original.length;this.start<=this.end;){if(this.middle=Math.floor((this.start+this.end)/2),this.element.innerText=this.original.slice(0,this.middle),this.middle===this.original.length)return void this.setState({text:this.original,noClamp:!0});this.moveMarkers(o)}var c=this.original.slice(0,Math.max(this.middle-a,0)).trim()+t;this.setState({text:c},(function(){n.element.innerText=n.state.text}))}},{key:"moveMarkers",value:function(n){this.element.clientHeight<=n?this.start=this.middle+1:this.end=this.middle-1}},{key:"render",value:function(){var n=this,e=this.state.text,r=this.props,i=r.accessibility,o=r.is,a=r.text,c=(r.lines,r.debounce,r.ellipsis,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?O(Object(t),!0).forEach((function(e){S(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({ref:function(e){return n.element=e}},i?{title:a}:{},{},function(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}(r,["accessibility","is","text","lines","debounce","ellipsis"])));return a?t(o,c,e):null}}])&&function(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}(r.prototype,i),r}();j.defaultProps={accessibility:!0,is:"div",lines:3,ellipsis:"…",debounce:300};var M=/^https?:\/\/(localhost|127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|::1)/;function _(){var n=w(["\n    @media (max-width: 48em) {\n      ",";\n    }\n  "]);return _=function(){return n},n}var D="undefined"==typeof window,N=function(n){return"function"==typeof n},T=function(n){return"object"==typeof n},F=function(n){return null==n},R=function(n){return T(n)?n.url:n},I=function(){return f(_(),f.apply(void 0,arguments))},L=function(n){var e=n.apiKey,t=n.contrast,r=void 0!==t&&t,i=n.data,o=n.endpoint,a=n.force,c=n.headers,u=n.media,l=n.prerender,s=n.proxy,f=n.ttl,d=n.url;return p(d,{apiKey:e,audio:u.includes("audio"),data:i,endpoint:o,force:a,headers:c,iframe:u.includes("iframe"),palette:r,prerender:l,proxy:s,screenshot:u.includes("screenshot"),ttl:f,video:u.includes("video")})},V=function(n){return"large"===n},A=function(n){return"small"===n},U=function(n){return function(n){return M.test(n)}(n)?n:"https://images.weserv.nl/?url=".concat(encodeURIComponent(n),"&l=9&af&il&n=-1")},H=!D&&"IntersectionObserver"in window,W=function(n){var e=parseInt(n,10);return[Math.floor(e/3600),Math.floor(e/60)%60,e%60].filter((function(n,e){return n>0||e>0})).map((function(n){return n>=10?n:"0".concat(n)})).join(":")},B=function(n,e,t){switch(!0){case n<=e:return e;case n>=t:return t;default:return n}},X="".concat("microlink_card","__content"),K="".concat("microlink_card","__media"),q="".concat(K,"__controls"),J={main:"microlink_card",content:X,title:"".concat(X,"_title"),description:"".concat(X,"_description"),url:"".concat(X,"_url"),mediaWrapper:"".concat(K,"_wrapper"),media:K,image:"".concat(K,"_image"),videoWrapper:"".concat(K,"_video_wrapper"),video:"".concat(K,"_video"),audioWrapper:"".concat(K,"_audio_wrapper"),audio:"".concat(K,"_audio"),mediaControls:q,playbackControl:"".concat(q,"_playback"),volumeControl:"".concat(q,"_volume"),rwControl:"".concat(q,"_rewind"),ffwControl:"".concat(q,"_fast_forward"),rateControl:"".concat(q,"_rate"),progressBar:"".concat(q,"_progress_bar"),progressTime:"".concat(q,"_progress_time"),spinner:"".concat(q,"_spinner"),iframe:"".concat("microlink_card","__iframe")};function $(){var n=w(["\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n    "]);return $=function(){return n},n}function G(){var n=w(["\n  &&& {\n    text-align: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    color: inherit;\n    margin: 0;\n\n    ","\n  }\n"]);return G=function(){return n},n}var Q=s((function(e){var t=e.children,r=e.className,i=e.lines;return F(t)?null:n.createElement(j,{className:r,lines:i,text:t,is:"p"})}))(G(),(function(n){return!n.useNanoClamp&&f($())})),Y=function(e){var t=e.useNanoClamp,r=void 0===t||t,i=e.children,o=y(e,["useNanoClamp","children"]),a=r?o:b(b({},o),{},{as:"p",title:i});return n.createElement(Q,g({useNanoClamp:r},a),i)},Z={short:"100ms",medium:"150ms",long:"300ms"},nn={short:"cubic-bezier(.25,.8,.25,1)",medium:"cubic-bezier(.25,.8,.25,1)",long:"cubic-bezier(.4, 0, .2, 1)"},en=function(n,e){var t="".concat(Z[e]," ").concat(nn[e]);return n.map((function(n){return"".concat(n," ").concat(t)})).join(", ")},tn=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return en(e,"short")},rn=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return en(e,"medium")},on=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return en(e,"long")},an="InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif",cn="'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",un={},ln=n.createContext(un),sn=function(e){var t=e.autoPlay,a=e.children,c=e.controls,u=e.loop,l=e.mediaRef,s=e.muted,f=e.playsInline,d=e.size,p=y(e,["autoPlay","children","controls","loop","mediaRef","muted","playsInline","size"]),m=x(r(un),2),v=m[0],g=m[1],h=i((function(n){return g((function(e){return b(b({},e),n)}))}),[]),w=o((function(){return{autoPlay:t,controls:c,loop:u,mediaRef:l,muted:s,playsInline:f,size:d}}),[t,c,u,l,s,f,d]),k=o((function(){return{props:w,state:v,updateState:h}}),[w,v,h]);return n.createElement(ln.Provider,{value:k},a(p))};function fn(){var n=w(["\n  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center\n    center;\n  display: block;\n  margin-left: 15px;\n  transition: ",";\n  will-change: filter, opacity;\n  &:not(:hover) {\n    filter: grayscale(100%);\n    opacity: 0.75;\n  }\n\n  min-width: ",";\n  width: ",";\n  background-size: ",";\n  height: ",";\n"]);return fn=function(){return n},n}function dn(){var n=w(["\n  opacity: 0.75;\n  transition: ",";\n  will-change: opacity;\n\n  .",":hover & {\n    opacity: 1;\n  }\n"]);return dn=function(){return n},n}function pn(){var n=w(["\n    font-size: ",";\n    ","\n  "]);return pn=function(){return n},n}function mn(){var n=w(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n  margin: 0;\n  flex-grow: 0;\n  font-weight: normal;\n  ",";\n"]);return mn=function(){return n},n}function vn(){var n=w(["\n  text-align: left;\n  font-size: 14px;\n  flex-grow: 2;\n  margin: auto 0;\n  line-height: 18px;\n  font-weight: normal;\n  ",";\n"]);return vn=function(){return n},n}function gn(){var n=w(["\n        min-width: 0;\n        padding-right: 14px;\n      "]);return gn=function(){return n},n}function hn(){var n=w(["\n    flex-grow: ",";\n    font-size: ",";\n\n    ","\n  "]);return hn=function(){return n},n}function bn(){var n=w(["\n  text-align: left;\n  font-weight: bold;\n  margin: 0;\n  width: 100%;\n  ","\n"]);return bn=function(){return n},n}function yn(){var n=w(["\n    flex: ",";\n    justify-content: ",";\n    flex-direction: ",";\n    align-items: ",";\n  "]);return yn=function(){return n},n}function wn(){var n=w(["\n  display: flex;\n  padding: 10px 15px;\n  min-width: 0;\n  box-sizing: border-box;\n  ",";\n"]);return wn=function(){return n},n}function xn(){var n=w(["\n    > p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  "]);return xn=function(){return n},n}function kn(){var n=w(["\n  ",";\n"]);return kn=function(){return n},n}var zn=/^www\./,En=f(kn(),I(xn())),Sn=s("div").attrs({className:J.content})(wn(),(function(n){var e=n.cardSize;return f(yn(),V(e)?"0 0 125px":1,A(e)?"space-between":"space-around",A(e)?"row":"column",A(e)?"center":"stretch")})),On=s("header").attrs({className:J.title})(bn(),(function(n){var e=n.cardSize;return f(hn(),A(e)?.8:1.2,A(e)?"15px":"16px",A(e)&&f(gn()))})),Pn=s("div").attrs({className:J.description})(vn(),(function(n){var e=n.cardSize;return!V(e)&&En})),Cn=s("footer").attrs({className:J.url})(mn(),(function(n){var e=n.cardSize;return f(pn(),A(e)?"10px":"12px",!A(e)&&"width: 100%;")})),jn=s(Y)(dn(),rn("opacity"),J.main),Mn=s("span").attrs({title:"microlink.io"})(fn(),rn("filter","opacity"),"16px","16px","16px","12px"),_n=function(){var e=a(ln),t=e.state,r=t.description,c=t.title,u=t.url,l=e.props.size,s=A(l),f=o((function(){return F(n=u)?"":new URL(n).hostname.replace(zn,"");var n}),[u]),d=i((function(n){n.preventDefault(),window.open("https://www.microlink.io","_blank")}));return n.createElement(Sn,{cardSize:l},n.createElement(On,{cardSize:l},n.createElement(Y,{useNanoClamp:!1},c)),!s&&n.createElement(Pn,{cardSize:l},n.createElement(Y,{lines:4},r)),n.createElement(Cn,{cardSize:l},n.createElement(jn,{useNanoClamp:!1},f),n.createElement(Mn,{onClick:d})))};function Dn(){var n=w(["\n  animation: "," 1.25s linear infinite;\n"]);return Dn=function(){return n},n}function Nn(){var n=w(["\n  animation: "," .75s linear infinite;\n"]);return Nn=function(){return n},n}function Tn(){var n=w(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #dce3e8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]);return Tn=function(){return n},n}function Fn(){var n=w(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #cdd4d8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]);return Fn=function(){return n},n}var Rn=d(Fn()),In=d(Tn()),Ln=f(Nn(),Rn),Vn=f(Dn(),In);function An(){var n=w(["\n      opacity: ",";\n      visibility: ",";\n    "]);return An=function(){return n},n}function Un(){var n=w(["\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background: #e1e8ed;\n    z-index: 1;\n    transition: ",";\n    will-change: opacity;\n\n    ",";\n  }\n"]);return Un=function(){return n},n}function Hn(){var n=w(["\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  z-index: -1;\n"]);return Hn=function(){return n},n}var Wn=s("img")(Hn()),Bn=f(Un(),rn("opacity","visibility"),(function(n){var e=n.isLoading;return f(An(),e?1:0,e?"visible":"hidden")}));function Xn(){var n=w(["\n  background: transparent no-repeat center center / cover;\n  display: block;\n  overflow: hidden;\n  height: auto;\n  position: relative;\n\n  &::before {\n    content: '';\n    padding-bottom: 100%;\n    display: block;\n  }\n\n  ",";\n\n  ",";\n"]);return Xn=function(){return n},n}function Kn(){var n=w(["\n    flex: 1;\n\n    &::before {\n      padding-bottom: 0;\n    }\n  "]);return Kn=function(){return n},n}function qn(){var n=w(["\n      flex: 0 0 92px;\n    "]);return qn=function(){return n},n}function Jn(){var n=w(["\n    flex: 0 0 125px;\n\n    ","\n  "]);return Jn=function(){return n},n}function $n(){var n=w(["\n    flex: 0 0 48px;\n  "]);return $n=function(){return n},n}var Gn={small:f($n()),normal:f(Jn(),I(qn())),large:f(Kn())},Qn=s("div")(Xn(),(function(n){var e=n.cardSize;return Gn[e]}),Bn),Yn=function(e){var t=a(ln).props.size;return n.createElement(Qn,g({cardSize:t},e))};function Zn(){var n=w(["\n  background-image: ",";\n"]);return Zn=function(){return n},n}var ne=s(Yn).attrs({className:"".concat(J.media," ").concat(J.image)})(Zn(),(function(n){var e=n.url;return e?"url('".concat(U(e),"')"):""})),ee=function(e){var t=a(ln).state.imageUrl;return n.createElement(ne,g({url:t},e))};function te(){var n=w(["\n  opacity: 0.8;\n  height: 12px;\n  width: 30%;\n  display: block;\n  "," animation-delay: .25s;\n\n  ",";\n"]);return te=function(){return n},n}function re(){var n=w(["\n  opacity: 0.8;\n  height: 14px;\n  width: 95%;\n  display: block;\n  position: relative;\n  ",";\n  animation-delay: 0.125s;\n"]);return re=function(){return n},n}function ie(){var n=w(["\n  opacity: 0.8;\n  height: 16px;\n  width: ",";\n  display: block;\n  background: #e1e8ed;\n  margin: ",";\n  ",";\n\n  ",";\n"]);return ie=function(){return n},n}function oe(){var n=w(["\n  ",";\n"]);return oe=function(){return n},n}var ae=s(ee)(oe(),Vn),ce=s("span")(ie(),(function(n){var e=n.cardSize;return A(e)?"75%":"60%"}),(function(n){var e=n.cardSize;return A(e)?"0 20px 0 0":"2px 0 8px"}),Ln,(function(n){var e=n.cardSize;return!V(e)&&"\n    height: 15px;\n  "})),ue=s("span")(re(),Ln),le=s("span")(te(),Ln,(function(n){var e=n.cardSize;return!V(e)&&"\n    height: 10px;\n  "})),se=n.createElement(le,null),fe=function(){var e=a(ln).props.size,t=A(e);return n.createElement(n.Fragment,null,n.createElement(ae,{cardSize:e}),n.createElement(Sn,{cardSize:e},n.createElement(ce,{cardSize:e}),t?null:n.createElement(n.Fragment,null,n.createElement(ue,{cardSize:e}),n.createElement(ue,{cardSize:e,style:{marginBottom:"12px"}})),se))};function de(){var n=w(["\n  backface-visibility: hidden;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\n  transition: ",";\n  will-change: transform;\n\n  > svg {\n    display: block;\n  }\n\n  &:active:not(:focus) {\n    transform: scale(0.9);\n  }\n"]);return de=function(){return n},n}var pe=s("div")(de(),tn("transform"));function me(){var n=w(["\n  margin: ",";\n  font-family: ",";\n  font-size: 12px;\n  padding: 0 16px;\n  color: #fff;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n"]);return me=function(){return n},n}function ve(){var n=w(["\n    font-size: 8px;\n    margin-left: 8px;\n    min-width: 23px;\n  "]);return ve=function(){return n},n}function ge(){var n=w(["\n  font-size: ","px;\n  min-width: ","px;\n  line-height: 1;\n  font-weight: bold;\n  border: 1.5px solid #fff;\n  border-radius: 9999px;\n  padding: 1px 5px;\n  text-align: center;\n  color: #fff;\n  margin-left: 10px;\n\n  ","\n"]);return ge=function(){return n},n}function he(){var n=w(["\n      width: 12px;\n      height: 12px;\n    "]);return he=function(){return n},n}function be(){var n=w(["\n  "," {\n    width: ","px;\n    height: ","px;\n\n    ","\n  }\n"]);return be=function(){return n},n}function ye(){var n=w(["\n  stroke: #fff;\n"]);return ye=function(){return n},n}function we(){var n=w(["\n  z-index: 2;\n  position: absolute;\n  bottom: ","px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: ",";\n  will-change: opacity;\n"]);return we=function(){return n},n}var xe=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}),ke=function(e){return n.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},e),xe)},ze=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}),Ee=function(e){return n.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},e),ze)},Se=s("div")(we(),(function(n){var e=n.cardSize;return V(e)?18:14}),rn("opacity")),Oe=s("svg")(ye()),Pe=s(pe).attrs({className:J.volumeControl})(be(),Oe,(function(n){var e=n.cardSize;return V(e)?16:14}),(function(n){var e=n.cardSize;return V(e)?16:14}),(function(n){var e=n.cardSize;return!V(e)&&I(he())})),Ce=s(pe).attrs({className:J.rateControl})(ge(),(function(n){var e=n.cardSize;return V(e)?12:10}),(function(n){var e=n.cardSize;return V(e)?33:28}),(function(n){var e=n.cardSize;return!V(e)&&I(ve())})),je=s("span").attrs({className:J.progressTime})(me(),(function(n){return n.right?"0 0 0 auto":"0 auto 0 0"}),cn),Me=function(e){var t=e.cardSize,r=e.currentTime,i=e.endTime,a=e.isMuted,c=e.onMuteClick,u=e.onPlaybackRateClick,l=e.playbackRate,s=o((function(){return a?ke:Ee}),[a]),f=o((function(){return V(t)}),[t]);return n.createElement(Se,{cardSize:t},f&&n.createElement(je,null,r),n.createElement(Pe,{title:a?"Unmute":"Mute",cardSize:t,onClick:c},n.createElement(Oe,{as:s})),n.createElement(Ce,{title:"Playback Rate",cardSize:t,onClick:u},n.createElement("span",null,l,"x")),f&&n.createElement(je,{right:!0},i))};function _e(){var n=w(["\n        width: calc("," * 1.2);\n        height: calc("," * 1.2);\n      "]);return _e=function(){return n},n}function De(){var n=w(["\n      width: ",";\n      height: ",";\n      padding: ",";\n\n      ","\n    "]);return De=function(){return n},n}function Ne(){var n=w(["\n  "," {\n    ","\n  }\n"]);return Ne=function(){return n},n}function Te(){var n=w(["\n  stroke: #fff;\n"]);return Te=function(){return n},n}var Fe=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z",transform:"translate(-8 -6)"}),Re=function(e){return n.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},e),Fe)},Ie=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z",transform:"translate(-6 -4)"}),Le=function(e){return n.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 24"},e),Ie)},Ve={large:"50px",normal:"35px",small:"20px"},Ae=s("svg")(Te()),Ue=s(pe).attrs({className:J.playbackControl})(Ne(),Ae,(function(n){var e=n.cardSize;return f(De(),Ve[e],Ve[e],V(e)?0:"8px",!V(e)&&!A(e)&&I(_e(),Ve.small,Ve.small))})),He=function(e){var t=e.isPlaying,r=y(e,["isPlaying"]),i=o((function(){return t?Re:Le}),[t]);return n.createElement(Ue,g({title:t?"Pause":"Play"},r),n.createElement(Ae,{as:i}))};function We(){var n=w(["\n      height: ","px;\n      width: ","px;\n    "]);return We=function(){return n},n}function Be(){var n=w(["\n  position: absolute;\n  top: 50%;\n  background: #ffffff;\n  border-radius: 50%;\n  transform-origin: center center;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  transition: ",";\n  will-change: left, transform, opacity, visibility;\n  backface-visibility: hidden;\n  z-index: 3;\n\n  ","\n"]);return Be=function(){return n},n}var Xe={normal:.8,small:.9},Ke=s("div").attrs((function(n){var e=n.isVisible;return{style:{left:n.positionX,transform:"scale(".concat(e?1:.5,") translate(-50%, -50%)"),opacity:e?1:0,visibility:e?"visible":"hidden"}}}))(Be(),tn("transform","opacity","visibility"),(function(n){var e,t=n.cardSize,r=(e=t,Math.floor(12*(Xe[e]||1)));return f(We(),r,r)}));function qe(){var n=w(["\n  position: absolute;\n  background: rgba(24, 25, 25, 0.75);\n  color: #fff;\n  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);\n  padding: 2px 3px;\n  border-radius: 4px;\n  font-family: ",";\n  font-size: ","px;\n  line-height: 1;\n  transition: ",", ",";\n  will-change: top, left, visibility, opacity, transform;\n  backface-visibility: hidden;\n"]);return qe=function(){return n},n}var Je={normal:.8},$e=s("span").attrs((function(n){var e=n.position,t=n.isDragging,r=n.visible;return{style:{left:"".concat(e,"px"),top:r?"-4px":"0px",visibility:r?"visible":"hidden",opacity:r?1:0,transform:"translate(-50%, ".concat(t?-110:-100,"%)")}}}))(qe(),cn,(function(n){var e=n.cardSize;return 11*(Je[e]||1)}),rn("opacity","visibility","transform"),on("top")),Ge=c((function(e,t){var r=e.isDragging,i=e.isVisible,o=e.label,a=e.positionX,c=e.size,u=y(e,["isDragging","isVisible","label","positionX","size"]);return n.createElement(n.Fragment,null,n.createElement($e,g({visible:i,position:a,cardSize:c,ref:t,isDragging:r},u),o))}));function Qe(){var n=w(["\n  background: rgba(255, 255, 255, 0.35);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n"]);return Qe=function(){return n},n}function Ye(){var n=w(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  transform-origin: left center;\n  transition: ",";\n  will-change: left, transform, opacity, visible;\n"]);return Ye=function(){return n},n}function Ze(){var n=w(["\n  position: absolute;\n  left: 0;\n  top: -50%;\n  height: 200%;\n  width: 100%;\n  background: #ffffff;\n  transform-origin: left center;\n  will-change: transform;\n"]);return Ze=function(){return n},n}function nt(){var n=w(["\n  border-radius: inherit;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n"]);return nt=function(){return n},n}function et(){var n=w(["\n      height: ","px;\n\n      ",":hover & {\n        height: ","px;\n      }\n    "]);return et=function(){return n},n}function tt(){var n=w(["\n  background: transparent;\n  border-radius: 9999px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  background: rgba(255, 255, 255, 0.15);\n  transition: ",";\n  will-change: height;\n  pointer-events: none;\n  position: relative;\n\n  ","\n"]);return tt=function(){return n},n}function rt(){var n=w(["\n  position: relative;\n  padding: ","px ","px ","px;\n  z-index: 2;\n  backface-visibility: hidden;\n"]);return rt=function(){return n},n}var it={normal:.7,small:.6},ot={small:.9,large:1.4},at=function(n){return Math.floor(6*(ot[n]||1))},ct=s("div").attrs((function(){return{className:J.progressBar}}))(rt(),6,3,3),ut=s("div").attrs((function(n){var e=n.cardSize;if(n.isDragging){var t=at(e);return{style:{height:"".concat(t,"px")}}}return{}}))(tt(),tn("height"),(function(n){var e,t=n.cardSize,r=(e=t,Math.floor(6*(it[e]||1))),i=at(t);return f(et(),r,ct,i)})),lt=s("div")(nt()),st=s("div").attrs((function(n){var e=n.maskScale;return{style:{transform:"scaleX(".concat(e,")")}}}))(Ze()),ft=s("div").attrs((function(n){var e=n.cursorRatio,t=n.isHovering;return{style:{left:n.progressPercent,transform:"scaleX(".concat(e,")"),opacity:t?1:0,visibility:t?"visible":"hidden"}}}))(Ye(),tn("opacity","visibility")),dt=s("div").attrs((function(n){var e=n.start,t=n.end;return{style:{left:"".concat(e,"px"),right:"".concat(t,"px")}}}))(Qe()),pt=function(e){var t=e.bufferedMedia,r=e.cursorX,c=e.duration,l=e.hoveredTime,s=e.isDragging,f=e.isHovering,d=e.onClick,p=e.onMouseDown,m=e.onMouseOver,v=e.progress,h=(e.showTooltip,a(ln).props.size),b=u(),w=u(),x=o((function(){return A(h)}),[h]),k=i((function(){return b.current?b.current.getBoundingClientRect().width-6:0}),[]),z=o((function(){return B(v/c,0,1)}),[c,v]),E=o((function(){return"".concat(B(100*z,1,99),"%")}),[z]),S=o((function(){if(b.current){var n=k(),e=z*n,t=r-e;if(t>0)return B((t/(n-e)).toFixed(3),0,.99)}return 0}),[r,k,z]),O=o((function(){var n=k();return t.map((function(e,t){return{key:t,start:e.start*n,end:n-e.end*n}}))}),[t,k]),P=o((function(){return W(l)}),[l]),C=o((function(){if(b.current&&w.current){var n=k(),e=w.current.getBoundingClientRect().width/2;return B(r,e,n-e)}return 0}),[r,k]),j=o((function(){return{onClick:d,onMouseDown:p,onMouseOver:m}}),[d,p,m]),M=o((function(){return s||f}),[s,f]);return n.createElement(ct,g({cardSize:h,ref:b},j),n.createElement(ut,{cardSize:h,isDragging:s},n.createElement(lt,null,n.createElement(ft,{cursorRatio:S,isHovering:f,progressPercent:E}),O.map((function(e){var t=e.key,r=y(e,["key"]);return n.createElement(dt,g({key:t},r))})),n.createElement(st,{maskScale:z})),n.createElement(Ke,{cardSize:h,isVisible:M,positionX:E}),!x&&n.createElement(Ge,{isDragging:s,isVisible:M,label:P,positionX:C,ref:w,size:h})))};function mt(){var n=w(["\n  margin: 0 ",";\n"]);return mt=function(){return n},n}function vt(){var n=w(["\n    width: 0;\n    height: 0;\n  "]);return vt=function(){return n},n}function gt(){var n=w(["\n  stroke: #fff;\n  width: ","px;\n  height: ","px;\n\n  ","\n"]);return gt=function(){return n},n}var ht=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z",transform:"translate(-4 -1)"}),bt=function(e){e.cardSize;var t=y(e,["cardSize"]);return n.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},t),ht)},yt=n.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z",transform:"translate(-4 -1)"}),wt=function(e){e.cardSize;var t=y(e,["cardSize"]);return n.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},t),yt)},xt=s("svg")(gt(),(function(n){var e=n.cardSize;return V(e)?30:24}),(function(n){var e=n.cardSize;return V(e)?30:24}),(function(n){var e=n.cardSize;return!V(e)&&I(vt())})),kt=s(pe)(mt(),(function(n){var e=n.cardSize;return V(e)?"28px":"3px"})),zt=function(e){var t=e.type,r=void 0===t?"rewind":t,i=e.cardSize,a=y(e,["type","cardSize"]),c=o((function(){return"rewind"===r?bt:wt}),[r]);return n.createElement(kt,g({title:"rewind"===r?"Rewind":"Forward",cardSize:i},a),n.createElement(xt,{as:c,cardSize:i}))};function Et(){var n=w(["\n  stroke: #fff;\n  stroke-linecap: round;\n  stroke-width: 7;\n  fill: none;\n  animation: "," 1.5s ease-in-out infinite;\n  will-change: stroke-dasharray, stroke-dashoffset;\n"]);return Et=function(){return n},n}function St(){var n=w(["\n  width: 100%;\n  animation: "," 2s linear infinite;\n  will-change: transform;\n"]);return St=function(){return n},n}function Ot(){var n=w(["\n    position: absolute;\n    width: ",";\n    right: ",";\n    top: ",";\n    transition: ",";\n    will-change: opacity, visibility;\n    pointer-events: none;\n  "]);return Ot=function(){return n},n}function Pt(){var n=w(["\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n"]);return Pt=function(){return n},n}function Ct(){var n=w(["\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return Ct=function(){return n},n}var jt={normal:.8,small:.6},Mt={normal:.9,small:.8},_t=d(Ct()),Dt=d(Pt()),Nt=s(pe).attrs((function(n){var e=n.isVisible;return{style:{opacity:e?1:0,visibility:e?"visible":"hidden"}}}))((function(n){var e=n.cardSize,t="".concat(function(n){return Math.floor(12*(Mt[n]||1))}(e),"px"),r="".concat(function(n){return Math.floor(6*(jt[n]||1))}(e),"px");return f(Ot(),t,r,r,rn("opacity","visibility"))})),Tt=s("svg")(St(),_t),Ft=s("circle")(Et(),Dt),Rt=n.createElement(Tt,{viewBox:"0 0 50 50"},n.createElement(Ft,{cx:"25",cy:"25",r:"20"})),It=function(e){var t=e.size,r=e.isVisible;return n.createElement(Nt,{cardSize:t,className:J.spinner,isVisible:r},Rt)};function Lt(){var n=w(['\n    *[class*="','"]:not(.',") {\n      transition: ",";\n      opacity: 0;\n      visibility: hidden;\n    }\n  "]);return Lt=function(){return n},n}function Vt(){var n=w(["\n  flex: 1;\n\n  ","\n"]);return Vt=function(){return n},n}function At(){var n=w(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n"]);return At=function(){return n},n}function Ut(){var n=w(["\n      .",":hover & {\n        background: ",";\n      }\n\n      .",":not(:hover) & {\n        opacity: ",";\n        ",";\n      }\n    "]);return Ut=function(){return n},n}function Ht(){var n=w(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  transition: ",", ",";\n  will-change: background;\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  ","\n"]);return Ht=function(){return n},n}var Wt=32,Bt=37,Xt=39,Kt=77,qt=s("div").attrs({className:J.mediaControls})(Ht(),on("background"),rn("opacity"),(function(n){var e=n.hasInteracted,t=n.isDragging,r=n.isPlaying,i="rgba(0, 0, 0, 0.35)",o=e&&!r;return f(Ut(),J.main,t?"rgba(0, 0, 0, 0.2)":i,J.main,!e||o?1:0,o&&"background: ".concat(i))})),Jt=s("div")(At()),$t=s("div")(Vt(),(function(n){return!n.isVisible&&f(Lt(),J.mediaControls,J.progressTime,rn("opacity","visibility"))})),Gt=function(e){var t=e.MediaComponent,c=e.mediaProps,s=a(ln).props,f=s.autoPlay,d=s.controls,p=s.mediaRef,m=s.muted,v=s.loop,h=s.size,b=x(r(0),2),y=b[0],w=b[1],z=x(r(0),2),E=z[0],S=z[1],O=x(r([]),2),P=O[0],C=O[1],j=x(r(0),2),M=j[0],_=j[1],D=x(r(0),2),T=D[0],F=D[1],R=x(r(f),2),I=R[0],L=R[1],V=x(r(m),2),U=V[0],H=V[1],X=x(r(!1),2),K=X[0],q=X[1],$=x(r(!1),2),G=$[0],Q=$[1],Y=x(r(!1),2),Z=Y[0],nn=Y[1],en=x(r(1),2),tn=en[0],rn=en[1],on=x(r(f),2),an=on[0],cn=on[1],un=x(r(!1),2),sn=un[0],fn=un[1],dn=u(),pn=i((function(n){dn.current=n,p&&(N(p)?p(n):p.current=n)}),[p]),mn=o((function(){return!A(h)}),[h]),vn=o((function(){return{onCanPlay:function(){return q(!1)},onLoadedMetadata:function(n){return w(n.currentTarget.duration)},onPause:function(){return L(!1)},onPlay:function(){return L(!0)},onPlaying:function(){return q(!1)},onProgress:function(n){return C(n.currentTarget.buffered)},onRateChange:function(n){return rn(n.currentTarget.playbackRate)},onTimeUpdate:function(n){return S(n.currentTarget.currentTime)},onVolumeChange:function(n){return H(n.currentTarget.muted)},onWaiting:function(n){return q(!0)}}}),[]),gn=i((function(n){if(dn.current){var e=n.currentTarget.getBoundingClientRect(),t=B(Math.floor(n.clientX-e.left),0,e.width);return{cursor:t,time:t/e.width*dn.current.duration}}return{cursor:0,time:0}}),[]),hn=i((function(){dn.current&&(dn.current.paused?(an||cn(!0),dn.current.play()):dn.current.pause())}),[an]),bn=i((function(n){if(dn.current){var e=B(n,0,dn.current.duration);dn.current.currentTime=e,S(e)}}),[]),yn=i((function(n,e){if(n.preventDefault(),n.stopPropagation(),dn.current){var t=dn.current.currentTime;bn("rewind"===e?t-10:t+30)}}),[bn]),wn=i((function(n){n.preventDefault(),n.stopPropagation(),dn.current&&(dn.current.muted=!dn.current.muted)}),[]),xn=i((function(n){n.preventDefault(),n.stopPropagation(),dn.current&&(dn.current.playbackRate=function(n){switch(n){case 1:return 1.25;case 1.25:return 1.5;case 1.5:return 2;default:return 1}}(dn.current.playbackRate))}),[]),kn=i((function(n){n.preventDefault(),n.stopPropagation(),nn(!1)}),[]),zn=i((function(n){n.preventDefault(),n.stopPropagation(),nn(!0);var e=gn(n).time;bn(e)}),[gn,bn]),En=i((function(){return Q(!0)}),[]),Sn=i((function(n){n.preventDefault(),n.stopPropagation(),Z?nn(!1):hn()}),[Z,hn]),On=i((function(n){if((Z||G)&&dn.current){n.preventDefault();var e=gn(n),t=e.cursor,r=e.time;F(r),_(t),Z&&(dn.current.paused||(dn.current.pause(),fn(!0)),bn(r))}}),[gn,Z,G,bn]),Pn=i((function(n){Z&&0===n.buttons&&nn(!1)}),[Z]),Cn=i((function(n){if(!Z){var e=n.keyCode;if([Wt,Bt,Xt,Kt].includes(e)&&dn.current)switch(n.preventDefault(),e){case Wt:hn();break;case Bt:bn(dn.current.currentTime-5);break;case Xt:bn(dn.current.currentTime+5);break;case Kt:dn.current.muted=!dn.current.muted}}}),[y,Z,bn,hn]),jn=o((function(){return{onClick:Sn,onKeyDown:Cn,onMouseMove:On,onMouseOut:function(){return Q(!1)},onMouseOver:Pn}}),[Sn,Cn,On,Pn]),Mn=o((function(){return an?{title:""}:{}}),[an]),_n=o((function(){return P&&P.length&&dn.current?k(Array(P.length).keys()).map((function(n){return{start:P.start(n)/dn.current.duration,end:P.end(n)/dn.current.duration}})):[]}),[P]),Dn=o((function(){return W(E||0)}),[E]),Nn=o((function(){return W(y||0)}),[y]),Tn=o((function(){return{cardSize:h,currentTime:Dn,endTime:Nn,isMuted:U,onMuteClick:wn,onPlaybackRateClick:xn,playbackRate:tn}}),[Dn,Nn,U,wn,xn,tn,h]),Fn=o((function(){return{bufferedMedia:_n,cursorX:M,duration:y,hoveredTime:T,isDragging:Z,isHovering:G,onClick:kn,onMouseDown:zn,onMouseOver:En,progress:E,showTooltip:Z||G}}),[_n,M,y,T,Z,G,kn,zn,En,E]);return l((function(){!Z&&sn&&dn.current&&dn.current.paused&&(dn.current.play(),fn(!1))}),[sn,Z]),n.createElement(n.Fragment,null,n.createElement(t,g({},c,vn,{ref:pn,autoPlay:f,loop:v,muted:m})),d&&n.createElement(qt,g({},Mn,{tabIndex:0,hasInteracted:an,isDragging:Z,isPlaying:I},jn),n.createElement(It,{size:h,isVisible:K}),an?n.createElement(n.Fragment,null,n.createElement($t,{isVisible:!Z},n.createElement(Jt,null,mn&&n.createElement(zt,{className:J.rwControl,type:"rewind",cardSize:h,onClick:function(n){return yn(n,"rewind")}}),n.createElement(He,{cardSize:h,isPlaying:I}),mn&&n.createElement(zt,{className:J.ffwControl,type:"fastforward",cardSize:h,onClick:function(n){return yn(n,"fastforward")}})),mn&&n.createElement(Me,Tn)),n.createElement(pt,Fn)):n.createElement(Jt,null,n.createElement(He,{cardSize:h}))))};function Qt(){var n=w(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  &::media-controls-start-playback-button {\n    display: none;\n    appearance: none;\n  }\n"]);return Qt=function(){return n},n}var Yt=s("video")(Qt()),Zt={video:function(e){var t=a(ln).state,r=t.imageUrl,i=t.playsInline,c=t.videoUrl,u=o((function(){var n={className:"".concat(J.media," ").concat(J.video),src:c,playsInline:i};return r&&(n.poster=U(r)),n}),[r,i,c]);return n.createElement(Yn,g({className:"".concat(J.mediaWrapper," ").concat(J.videoWrapper)},e),n.createElement(Gt,{MediaComponent:Yt,mediaProps:u}))},image:ee,audio:function(e){var t=a(ln).state.audioUrl,r=o((function(){return{className:"".concat(J.media," ").concat(J.audio),src:t}}),[t]);return n.createElement(ee,g({className:"".concat(J.mediaWrapper," ").concat(J.audioWrapper)},e),n.createElement(Gt,{MediaComponent:"audio",mediaProps:r}))}},nr=function(){var e=a(ln).state,t=e.imageUrl,i=e.isAudio,o=e.isVideo,c=x(r(null!==R(t)),2),u=c[0],l=c[1],s=function(n,e){return n?"audio":e?"video":"image"}(i,o),f=Zt[s];return n.createElement(n.Fragment,null,n.createElement(f,{isLoading:u}),u&&n.createElement(Wn,{src:t,onLoad:function(){return l(!1)}}))};function er(){var n=w(["\n  flex-direction: ",";\n"]);return er=function(){return n},n}function tr(){var n=w(["\n  transition-property: background, border-color;\n  will-change: background, border-color;\n  &:hover {\n    background-color: var(--microlink-hover-background-color, #f5f8fa);\n    border-color: var(--microlink-hover-border-color, #8899A680);\n  }\n"]);return tr=function(){return n},n}function rr(){var n=w(["\n    height: calc("," * 7/9);\n  "]);return rr=function(){return n},n}function ir(){var n=w(["\n  flex-direction: column;\n  height: ",";\n  ",";\n"]);return ir=function(){return n},n}function or(){var n=w(["\n  background-color: ",";\n  border-color: ",";\n  transition-property: filter;\n  will-change: filter;\n\n  &&& {\n    color: ",";\n  }\n\n  &:hover {\n    filter: brightness(90%);\n  }\n"]);return or=function(){return n},n}var ar=function(n){var e=n.backgroundColor,t=n.color;return f(or(),e,t,t)},cr=f(ir(),"382px",I(rr(),"382px")),ur=f(tr()),lr=function(n){var e=n.cardSize;return f(er(),V(e)?"column-reverse":"row-reverse")},sr=f((function(){return"\n  max-width: var(--microlink-max-width, 500px);\n  background-color: var(--microlink-background-color, #fff);\n  border-width: var(--microlink-border-width, 1px);\n  border-style: var(--microlink-border-style, solid);\n  border-color: var(--microlink-border-color, #e1e8ed);\n  color: var(--microlink-color, #181919);\n  overflow: hidden;\n  font-family: ".concat(an,";\n  display: flex;\n  text-decoration: none;\n  opacity: 1;\n  position: relative;\n  transition-duration: ").concat(Z.medium,";\n  transition-timing-function: ").concat(nn.medium,";\n\n  &:active,\n  &:hover {\n    outline: 0;\n  }\n")})),fr=s("a")(sr,(function(n){var e=n.isLoading,t=n.contrast;return!e&&!t&&ur}),(function(n){var e=n.cardSize;return V(e)&&cr}),(function(n){return"rtl"===n.direction&&lr}),(function(n){var e=n.backgroundColor,t=n.color;return n.contrast&&t&&e&&ar}),(function(n){var e=n.backgroundColor,t=n.color;return n.contrast&&(!t||!e)&&ur})),dr=c((function(n,e){var r=n.href,i=n.rel,o=n.target,c=y(n,["href","rel","target"]),u=a(ln),l=u.state,s=l.backgroundColor,f=l.color,d=l.title,p=u.props.size;return t(fr,b(b(b({},"a"===c.as?{href:r,rel:i,target:o}:void 0),c),{},{backgroundColor:s,cardSize:p,color:f,ref:e,title:d}))}));dr.defaultProps={as:"a",rel:"noopener noreferrer",target:"_blank"};var pr=n.createElement(fe,null),mr=n.createElement(nr,null),vr=n.createElement(_n,null),gr=function(e){var t=e.className,c=e.fetchData,u=e.lazy,s=e.loading,f=e.media,d=e.setData,p=e.url,v=y(e,["className","fetchData","lazy","loading","media","setData","url"]),h=o((function(){return[].concat(f)}),[f]),w=a(ln).updateState,k=x(r(!0),2),z=k[0],E=k[1],S=x(r(null),2),O=S[0],P=S[1],C=x(r(!1),2),j=C[0],M=C[1],_=o((function(){return void 0===s}),[s]),I=x(o((function(){return L(b(b({},e),{},{media:h}))}),[h,e]),2),V=I[0],A=I[1],U=o((function(){return H&&(!0===u||T(u))}),[u]),W=o((function(){return T(u)?u:void 0}),[u]),B=function(n,e){var t=x(r(!1),2),o=t[0],a=t[1];return[o,i((function(t){if(n){var r=new IntersectionObserver((function(n,e){var t=x(n,1)[0];t.isIntersecting&&(a(!0),e.unobserve(t.target))}),e);null!==t&&r.observe(t)}else a(!0)}))]}(U,W),X=x(B,2),K=X[0],q=X[1],$=o((function(){return!U||U&&K}),[U,K]),G=i((function(){$&&(E(!0),(c?m(V,A):Promise.resolve({})).then((function(n){var e=n.data;return Q(e)})).catch((function(n){E(!1),M(!0),console.error("\n┌───────────────┐\n│ Microlink SDK │\n└───────────────┘\n\n".concat(n.description,"\n\n").concat(JSON.stringify(n.data),"\n\nid   ").concat(n.headers["x-request-id"],"\nuri  ").concat(n.url,"\ncode ").concat(n.code," (").concat(n.statusCode,")\n\nmicrolink.io/").concat(n.code.toLowerCase(),"\n"))})))}),[V,$,d,A.headers["x-api-key"],p]),Q=i((function(n){var e,t,r=N(d)?d(n):b(b({},n),d),i=r.title,o=r.description,a=r.url,c=r.video,u=r.audio,l=r.image,s=r.logo,f=r.iframe,p=l||s||{},m=p,v=!1,g=!1;switch(function(n,e){for(var t,r=0;r<e.length;r++){var i=e[r],o=n[i];if(!F(o)){t=i;break}}return t}(r,h)){case"audio":g=!0,t=R(u);break;case"video":v=!0,e=R(c);break;case"iframe":P(f);break;default:m=function(n,e){return n[e.find((function(e){return!F(n[e])}))]}(r,h)||p}var y=R(m),x=m,k=x.color,z=x.background_color;w({url:a,color:k,title:i,description:o,imageUrl:y,videoUrl:e,audioUrl:t,isVideo:v,isAudio:g,backgroundColor:z}),E(!1)}),[h,d]);l(G,[p,d,K]);var Y=_?z:s;return j?n.createElement("a",g({href:p},v),p):O?(D||O.scripts.forEach((function(n){if(!document.querySelector('script[src="'.concat(n.src,'"]'))){var e=document.createElement("script");Object.keys(n).forEach((function(t){return e[t]=n[t]})),document.body.appendChild(e)}})),n.createElement("div",g({className:J.iframe,dangerouslySetInnerHTML:{__html:O.html}},v))):n.createElement(dr,g({className:"".concat(J.main," ").concat(t).trim(),href:p,isLoading:Y,ref:q},v),Y?pr:n.createElement(n.Fragment,null,mr,vr))},hr=function(e){return n.createElement(sn,e,(function(e){return n.createElement(gr,e)}))};hr.defaultProps={className:"",apiKey:void 0,autoPlay:!0,controls:!0,direction:"ltr",lazy:!0,loop:!0,media:["image","logo"],fetchData:!0,muted:!0,playsInline:!0,size:"normal"};export default hr;export{L as getApiUrl,U as imageProxy};
//# sourceMappingURL=microlink.min.module.js.map
